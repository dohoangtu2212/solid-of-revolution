<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WISDEMY - Solid of Revolution Visualizer</title>
    <meta name="description" content="C√¥ng c·ª• tr·ª±c quan h√≥a kh·ªëi tr√≤n xoay 3D - Solid of Revolution Visualizer">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://dohoangtu2212.github.io/solid-of-revolution/">
    <meta property="og:title" content="M√¥ ph·ªèng Kh·ªëi Tr√≤n Xoay 3D - WISDEMY">
    <meta property="og:description"
        content="Tr·∫£i nghi·ªám to√°n h·ªçc tr·ª±c quan v·ªõi c√¥ng c·ª• t·∫°o kh·ªëi tr√≤n xoay 3D. Nh·∫≠p h√†m s·ªë, xoay v√† xem k·∫øt qu·∫£ ngay l·∫≠p t·ª©c!">
    <meta property="og:image" content="https://dohoangtu2212.github.io/solid-of-revolution/thumbnail.png">

    <!-- KaTeX for LaTeX rendering -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css">
    <script src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js"></script>

    <!-- Custom styles -->
    <link rel="stylesheet" href="styles.css">

    <!-- Quicksand Font -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>

<body>
    <div class="app-container">
        <!-- Control Panel (Left Side) -->
        <aside class="control-panel">
            <header class="panel-header">
                <div class="logo-row">
                    <img src="owl-logo.png" alt="WISDEMY" class="owl-logo">
                    <h1>WISDEMY</h1>
                </div>
                <p class="subtitle">Kh·ªëi tr√≤n xoay</p>
            </header>

            <div class="control-section">
                <!-- Function f(x) Input with inline color -->
                <div class="input-group">
                    <label for="input-f" class="label-with-color">
                        <span>H√†m f(x) <span class="hint">(ƒë∆∞·ªùng tr√™n)</span></span>
                        <input type="color" id="color-f" value="#ff6b6b" title="M√†u f(x)">
                    </label>
                    <input type="text" id="input-f" value="sqrt(9-x^2)" placeholder="V√≠ d·ª•: sin(x)^2 + 2x">
                    <div id="preview-f" class="latex-preview"></div>
                </div>

                <!-- Function g(x) Input with inline color -->
                <div class="input-group">
                    <label for="input-g" class="label-with-color">
                        <span>H√†m g(x) <span class="hint">(ƒë∆∞·ªùng d∆∞·ªõi)</span></span>
                        <input type="color" id="color-g" value="#51cf66" title="M√†u g(x)">
                    </label>
                    <input type="text" id="input-g" value="0" placeholder="V√≠ d·ª•: 0 ho·∫∑c x/2">
                    <div id="preview-g" class="latex-preview"></div>
                </div>

                <p class="tip">üí° Nh·∫•n Enter ƒë·ªÉ c·∫≠p nh·∫≠t h√¨nh 3D</p>
            </div>

            <div class="control-section">
                <!-- Bounds Section Header with Color Picker -->
                <div class="section-title-row">
                    <span class="section-label">Mi·ªÅn t√≠ch ph√¢n [a, b]</span>
                    <div class="color-wrapper" title="M√†u gi·ªõi h·∫°n">
                        <input type="color" id="color-bounds" value="#ffd43b">
                    </div>
                </div>

                <div class="bounds-row">
                    <div class="input-bound">
                        <label for="input-a">C·∫≠n a</label>
                        <input type="number" id="input-a" value="-2" step="0.5">
                    </div>
                    <div class="input-bound">
                        <label for="input-b">C·∫≠n b</label>
                        <input type="number" id="input-b" value="2" step="0.5">
                    </div>
                </div>

                <!-- Slider Angle -->
                <div class="slider-group">
                    <label>
                        <span>G√≥c quay:</span>
                        <span id="value-angle" class="slider-value">360¬∞</span>
                    </label>
                    <input type="range" id="slider-angle" min="0" max="360" value="360" step="1">
                </div>

                <!-- Slider Opacity -->
                <div class="slider-group">
                    <label>
                        <span>ƒê·ªô trong su·ªët:</span>
                        <span id="value-opacity" class="slider-value">0.70</span>
                    </label>
                    <input type="range" id="slider-opacity" min="0" max="100" value="70" step="1">
                </div>

                <!-- Color Mode with Dropdown -->
                <div class="input-group color-row">
                    <label>M√†u kh·ªëi:</label>
                    <div class="color-controls">
                        <select id="color-mode-select">
                            <option value="solid">ƒê∆°n s·∫Øc</option>
                            <option value="gradient-x">Gradient X</option>
                            <option value="gradient-r">Gradient R</option>
                        </select>
                        <div class="color-pickers" id="color-pickers">
                            <input type="color" id="color-solid" value="#4ECDC4" title="M√†u kh·ªëi">
                            <input type="color" id="color-start" value="#4ECDC4" class="hidden" title="M√†u 1">
                            <input type="color" id="color-end" value="#FF6B6B" class="hidden" title="M√†u 2">
                        </div>
                    </div>
                </div>

                <!-- Mesh Toggle -->
                <div class="input-group toggle-row">
                    <label>Hi·ªÉn th·ªã Mesh:</label>
                    <label class="switch">
                        <input type="checkbox" id="toggle-wireframe">
                        <span class="switch-slider"></span>
                    </label>
                </div>
            </div>

            <div class="control-section info-section decorated-panel">
                <div class="result-item">
                    <span class="result-label">Di·ªán t√≠ch S</span>
                    <span id="area-value" class="result-number">--</span>
                </div>
                <div class="result-item highlight">
                    <span class="result-label">Th·ªÉ t√≠ch V</span>
                    <span id="volume-value" class="result-number">--</span>
                </div>
            </div>

            <footer class="panel-footer">
                <button id="btn-save-image" class="btn-save">üì∏ L∆∞u ·∫£nh PNG</button>
                <p class="footer-hint">Xoay ƒë·ªÉ xem 3D ‚Ä¢ Cu·ªôn ƒë·ªÉ ph√≥ng to</p>
            </footer>
        </aside>

        <!-- 3D Canvas (Right Side) -->
        <main class="canvas-container">
            <div id="three-canvas"></div>
            <div id="error-overlay" class="error-overlay hidden">
                <span class="error-icon">‚ö†Ô∏è</span>
                <span class="error-text">Mi·ªÅn x√°c ƒë·ªãnh kh√¥ng h·ª£p l·ªá</span>
            </div>
        </main>
    </div>

    <!-- Three.js with ES Module -->
    <script type="importmap">
    {
        "imports": {
            "three": "https://cdn.jsdelivr.net/npm/three@0.160.0/build/three.module.js",
            "three/addons/": "https://cdn.jsdelivr.net/npm/three@0.160.0/examples/jsm/"
        }
    }
    </script>
    <script type="module" src="app.js"></script>
</body>

</html>